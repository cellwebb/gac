# gac में योगदान करना

[English](../en/CONTRIBUTING.md) | [简体中文](../zh-CN/CONTRIBUTING.md) | [繁體中文](../zh-TW/CONTRIBUTING.md) | [日本語](../ja/CONTRIBUTING.md) | [한국어](../ko/CONTRIBUTING.md) | **हिन्दी** | [Français](../fr/CONTRIBUTING.md) | [Русский](../ru/CONTRIBUTING.md) | [Español](../es/CONTRIBUTING.md) | [Português](../pt/CONTRIBUTING.md) | [Deutsch](../de/CONTRIBUTING.md) | [Nederlands](../nl/CONTRIBUTING.md)

इस प्रोजेक्ट में योगदान करने में आपकी रुचि के लिए धन्यवाद! आपकी मदद की सराहना की जाती है। कृपया इन दिशानिर्देशों का पालन करें ताकि
प्रक्रिया सभी के लिए सुगम रहे।

## विषय-सूची

- [gac में योगदान करना](#gac-में-योगदान-करना)
  - [विषय-सूची](#विषय-सूची)
  - [विकास वातावरण सेटअप](#विकास-वातावरण-सेटअप)
    - [त्वरित सेटअप](#त्वरित-सेटअप)
    - [वैकल्पिक सेटअप (यदि आप चरण-दर-चरण पसंद करते हैं)](#वैकल्पिक-सेटअप-यदि-आप-चरण-दर-चरण-पसंद-करते-हैं)
    - [उपलब्ध कमांड](#उपलब्ध-कमांड)
  - [वर्जन बंपिंग](#वर्जन-बंपिंग)
    - [वर्जन कैसे बंप करें](#वर्जन-कैसे-बंप-करें)
    - [रिलीज़ प्रक्रिया](#रिलीज़-प्रक्रिया)
    - [bump-my-version का उपयोग करना (वैकल्पिक)](#bump-my-version-का-उपयोग-करना-वैकल्पिक)
  - [नया AI प्रोवाइडर जोड़ना](#नया-ai-प्रोवाइडर-जोड़ना)
    - [नए प्रोवाइडर जोड़ने की चेकलिस्ट](#नए-प्रोवाइडर-जोड़ने-की-चेकलिस्ट)
    - [उदाहरण कार्यान्वयन](#उदाहरण-कार्यान्वयन)
    - [मुख्य बिंदु](#मुख्य-बिंदु)
  - [कोडिंग मानक](#कोडिंग-मानक)
  - [Git हुक (Lefthook)](#git-हुक-lefthook)
    - [सेटअप](#सेटअप)
    - [Git हुक छोड़ना](#git-हुक-छोड़ना)
  - [परीक्षण दिशानिर्देश](#परीक्षण-दिशानिर्देश)
    - [परीक्षण चलाना](#परीक्षण-चलाना)
      - [प्रोवाइडर इंटीग्रेशन परीक्षण](#प्रोवाइडर-इंटीग्रेशन-परीक्षण)
  - [आचार संहिता](#आचार-संहिता)
  - [लाइसेंस](#लाइसेंस)
  - [सहायता कहां प्राप्त करें](#सहायता-कहां-प्राप्त-करें)

## विकास वातावरण सेटअप

यह प्रोजेक्ट निर्भरता प्रबंधन के लिए `uv` का उपयोग करता है और सामान्य विकास कार्यों के लिए एक Makefile प्रदान करता है:

### त्वरित सेटअप

```bash
# Lefthook हुक सहित सब कुछ सेट करने के लिए एक कमांड
make dev
```

यह कमांड निम्न कार्य करेगा:

- विकास निर्भरताएं इंस्टॉल करें
- git हुक इंस्टॉल करें
- किसी भी मौजूदा समस्या को ठीक करने के लिए सभी फाइलों में Lefthook हुक चलाएं

### वैकल्पिक सेटअप (यदि आप चरण-दर-चरण पसंद करते हैं)

```bash
# वर्चुअल एनवायरनमेंट बनाएं और निर्भरताएं इंस्टॉल करें
make setup

# विकास निर्भरताएं इंस्टॉल करें
make dev

# Lefthook हुक इंस्टॉल करें
brew install lefthook  # या विकल्पों के नीचे देखें
lefthook install
lefthook run pre-commit --all
```

### उपलब्ध कमांड

- `make setup` - वर्चुअल एनवायरनमेंट बनाएं और सभी निर्भरताएं इंस्टॉल करें
- `make dev` - **पूर्ण विकास सेटअप** - Lefthook हुक सहित
- `make test` - मानक परीक्षण चलाएं (इंटीग्रेशन परीक्षणों को छोड़कर)
- `make test-integration` - केवल इंटीग्रेशन परीक्षण चलाएं (API कुंजियों की आवश्यकता है)
- `make test-all` - सभी परीक्षण चलाएं
- `make test-cov` - कवरेज रिपोर्ट के साथ परीक्षण चलाएं
- `make lint` - कोड गुणवत्ता जांचें (ruff, prettier, markdownlint)
- `make format` - कोड फॉर्मेटिंग समस्याओं को स्वचालित रूप से ठीक करें

## वर्जन बंपिंग

**महत्वपूर्ण**: PRs में `src/gac/__version__.py` में एक वर्जन बंप शामिल होना चाहिए जब उनमें रिलीज़ किए जाने वाले परिवर्तन होते हैं।

### वर्जन कैसे बंप करें

1. `src/gac/__version__.py` संपादित करें और वर्जन नंबर बढ़ाएं
2. [सिमेंटिक वर्जनिंग](https://semver.org/) का पालन करें:
   - **पैच** (1.6.X): बग फिक्सेस, छोटे सुधार
   - **माइनर** (1.X.0): नई सुविधाएं, पिछड़े-संगत परिवर्तन (जैसे, नया प्रोवाइडर जोड़ना)
   - **मेजर** (X.0.0): ब्रेकिंग परिवर्तन

### रिलीज़ प्रक्रिया

रिलीज़ें वर्जन टैग धक्का देकर ट्रिगर होती हैं:

1. वर्जन बंप के साथ PR(s) को main में मर्ज करें
2. एक टैग बनाएं: `git tag v1.6.1`
3. टैग धक्का दें: `git push origin v1.6.1`
4. GitHub Actions स्वचालित रूप से PyPI पर प्रकाशित करता है

उदाहरण:

```python
# src/gac/__version__.py
__version__ = "1.6.1"  # 1.6.0 से बंप किया गया
```

### bump-my-version का उपयोग करना (वैकल्पिक)

यदि आपके पास `bump-my-version` इंस्टॉल है, तो आप इसका स्थानीय रूप से उपयोग कर सकते हैं:

```bash
# बग फिक्सेस के लिए:
bump-my-version bump patch

# नई सुविधाओं के लिए:
bump-my-version bump minor

# ब्रेकिंग परिवर्तनों के लिए:
bump-my-version bump major
```

## नया AI प्रोवाइडर जोड़ना

जब आप एक नया AI प्रोवाइडर जोड़ते हैं, तो आपको कोडबेस में कई फाइलों को अपडेट करने की आवश्यकता होती है। इस व्यापक चेकलिस्ट का पालन करें:

### नए प्रोवाइडर जोड़ने की चेकलिस्ट

- [ ] **1. प्रोवाइडर कार्यान्वयन बनाएं** (`src/gac/providers/<provider_name>.py`)

  - प्रोवाइडर के नाम पर एक नई फाइल बनाएं (जैसे, `minimax.py`)
  - `call_<provider>_api(model: str, messages: list[dict], temperature: float, max_tokens: int) -> str` कार्यान्वयित करें
  - यदि प्रोवाइडर समर्थन करता है तो OpenAI-संगत प्रारूप का उपयोग करें
  - एनवायरनमेंट वेरिएबल `<PROVIDER>_API_KEY` से API कुंजी संभालें
  - `AIError` प्रकारों के साथ उचित त्रुटि हैंडलिंग शामिल करें:
    - प्रमाणीकरण समस्याओं के लिए `AIError.authentication_error()`
    - दर सीमाओं के लिए `AIError.rate_limit_error()` (HTTP 429)
    - टाइमआउट के लिए `AIError.timeout_error()`
    - मॉडल त्रुटियों और खाली/null सामग्री के लिए `AIError.model_error()`
  - API एंडपॉइंट URL सेट करें
  - HTTP अनुरोधों के लिए 120-सेकंड टाइमआउट का उपयोग करें

- [ ] **2. पैकेज में प्रोवाइडर रजिस्टर करें** (`src/gac/providers/__init__.py`)

  - आयात जोड़ें: `from .<provider> import call_<provider>_api`
  - `__all__` सूची में जोड़ें: `"call_<provider>_api"`

- [ ] **3. AI मॉड्यूल में प्रोवाइडर रजिस्टर करें** (`src/gac/ai.py`)

  - `from gac.providers import (...)` अनुभाग में आयात जोड़ें
  - `provider_funcs` शब्दकोश में जोड़ें: `"provider-name": call_<provider>_api`

- [ ] **4. समर्थित प्रोवाइडर सूची में जोड़ें** (`src/gac/ai_utils.py`)

  - `generate_with_retries()` में `supported_providers` सूची में `"provider-name"` जोड़ें
  - सूची को वर्णानुक्रम में क्रमबद्ध रखें

- [ ] **5. इंटरैक्टिव सेटअप में जोड़ें** (`src/gac/init_cli.py`)

  - `providers` सूची में टपल जोड़ें: `("Provider Name", "default-model-name")`
  - सूची को वर्णानुक्रम में क्रमबद्ध रखें
  - यदि आवश्यक हो तो कोई विशेष हैंडलिंग जोड़ें (जैसे Ollama/LM Studio स्थानीय प्रोवाइडर्स के लिए)

- [ ] **6. उदाहरण कॉन्फिगरेशन अपडेट करें** (`.gac.env.example`)

  - प्रारूप में उदाहरण मॉडल कॉन्फिगरेशन जोड़ें: `# GAC_MODEL=provider:model-name`
  - API कुंजी प्रविष्टि जोड़ें: `# <PROVIDER>_API_KEY=your_key_here`
  - प्रविष्टियों को वर्णानुक्रम में क्रमबद्ध रखें
  - यदि लागू हो तो वैकल्पिक कुंजियों के लिए टिप्पणियां जोड़ें

- [ ] **7. दस्तावेज़ीकरण अपडेट करें** (`README.md` और `docs/zh-CN/README.md`)

  - दोनों अंग्रेजी और चीनी README में "समर्थित प्रोवाइडर्स" अनुभाग में प्रोवाइडर नाम जोड़ें
  - बुलेट पॉइंट के भीतर सूची को वर्णानुक्रम में क्रमबद्ध रखें

- [ ] **8. व्यापक परीक्षण बनाएं** (`tests/providers/test_<provider>.py`)

  - नामकरण सम्मेलन का पालन करते हुए परीक्षण फाइल बनाएं
  - इन परीक्षण कक्षाएं शामिल करें:
    - `Test<Provider>Imports` - मॉड्यूल और फंक्शन आयात परीक्षण
    - `Test<Provider>APIKeyValidation` - गुम API कुंजी त्रुटि परीक्षण
    - `Test<Provider>ProviderMocked(BaseProviderTest)` - 9 मानक परीक्षणों के लिए `BaseProviderTest` से इनहेरिट करें
    - `Test<Provider>EdgeCases` - null सामग्री और अन्य एज केस परीक्षण
    - `Test<Provider>Integration` - वास्तविक API कॉल परीक्षण (`@pytest.mark.integration` के साथ चिह्नित)
  - मॉक किए गए परीक्षण कक्षा में आवश्यक गुण लागू करें:
    - `provider_name` - प्रोवाइडर नाम (लोअरकेस)
    - `provider_module` - पूर्ण मॉड्यूल पथ
    - `api_function` - API फंक्शन संदर्भ
    - `api_key_env_var` - API कुंजी के लिए एनवायरनमेंट वेरिएबल नाम (या स्थानीय प्रोवाइडर्स के लिए None)
    - `model_name` - परीक्षण के लिए डिफ़ॉल्ट मॉडल नाम
    - `success_response` - मॉक सफल API प्रतिक्रिया
    - `empty_content_response` - मॉक खाली सामग्री प्रतिक्रिया

- [ ] **9. वर्जन बंप करें** (`src/gac/__version__.py`)
  - **माइनर** वर्जन बढ़ाएं (जैसे, 1.10.2 → 1.11.0)
  - प्रोवाइडर जोड़ना एक नई सुविधा है और इसे एक माइनर वर्जन बंप की आवश्यकता है

### उदाहरण कार्यान्वयन

संदर्भ के लिए MiniMax प्रोवाइडर कार्यान्वयन देखें:

- प्रोवाइडर: `src/gac/providers/minimax.py`
- परीक्षण: `tests/providers/test_minimax.py`

### मुख्य बिंदु

1. **त्रुटि हैंडलिंग**: विभिन्न त्रुटि परिदृश्यों के लिए हमेशा उचित `AIError` प्रकार का उपयोग करें
2. **Null/खाली सामग्री**: प्रतिक्रियाओं में हमेशा `None` और खाली स्ट्रिंग सामग्री दोनों की जांच करें
3. **परीक्षण**: `BaseProviderTest` कक्षा प्रत्येक प्रोवाइडर को इनहेरिट करने वाले 9 मानक परीक्षण प्रदान करती है
4. **वर्णानुक्रम क्रम**: रखरखाव के लिए प्रोवाइडर सूचियों को वर्णानुक्रम में क्रमबद्ध रखें
5. **API कुंजी नामकरण**: प्रारूप `<PROVIDER>_API_KEY` का उपयोग करें (सभी अपरकेस, रिक्त स्थान के लिए अंडरस्कोर)
6. **प्रोवाइडर नाम प्रारूप**: बहु-शब्द नामों के लिए लोअरकेस के साथ हाइफन का उपयोग करें (जैसे, "lm-studio")
7. **वर्जन बंप**: प्रोवाइडर जोड़ने के लिए एक **माइनर** वर्जन बंप की आवश्यकता होती है (नई सुविधा)

## कोडिंग मानक

- Python 3.10+ को लक्षित करें (3.10, 3.11, 3.12, 3.13, 3.14)
- सभी फंक्शन पैरामीटर और रिटर्न वैल्यू के लिए टाइप हिंट का उपयोग करें
- कोड को साफ, कॉम्पैक्ट, और पठनीय रखें
- अनावश्यक जटिलता से बचें
- प्रिंट स्टेटमेंट के बजाय लॉगिंग का उपयोग करें
- फॉर्मेटिंग `ruff` द्वारा हैंडल किया जाता है (एक उपकरण में लिंटिंग, फॉर्मेटिंग, और आयात छंटाई; अधिकतम लाइन लंबाई: 120)
- `pytest` के साथ न्यूनतम, प्रभावी परीक्षण लिखें

## Git हुक (Lefthook)

यह प्रोजेक्ट कोड गुणवत्ता जांच को तेज़ और संगत रखने के लिए [Lefthook](https://github.com/evilmartians/lefthook) का उपयोग करता है। कॉन्फ़िगर किए गए हुक हमारे पिछले प्री-कमिट सेटअप को दर्शाते हैं:

- `ruff` - Python लिंटिंग और फॉर्मेटिंग (black, isort, और flake8 को बदलता है)
- `markdownlint-cli2` - Markdown लिंटिंग
- `prettier` - फाइल फॉर्मेटिंग (markdown, yaml, json)
- `check-upstream` - अपस्ट्रीम परिवर्तनों की जांच के लिए कस्टम हुक

### सेटअप

**अनुशंसित दृष्टिकोण:**

```bash
make dev
```

**मैनुअल सेटअप (यदि आप चरण-दर-चरण पसंद करते हैं):**

1. Lefthook इंस्टॉल करें (अपने सेटअप से मेल खाने वाला विकल्प चुनें):

   ```sh
   brew install lefthook          # macOS (Homebrew)
   # या
   cargo install lefthook         # Rust टूलचेन
   # या
   asdf plugin add lefthook && asdf install lefthook latest
   ```

2. git हुक इंस्टॉल करें:

   ```sh
   lefthook install
   ```

3. (वैकल्पिक) सभी फाइलों के खिलाफ चलाएं:

   ```sh
   lefthook run pre-commit --all
   ```

अब हुक प्रत्येक कमिट पर स्वचालित रूप से चलेंगे। यदि कोई जांच विफल होती है, तो आपको कमिट करने से पहले समस्याओं को ठीक करना होगा।

### Git हुक छोड़ना

यदि आपको अस्थायी रूप से Lefthook जांच को छोड़ने की आवश्यकता है, तो `--no-verify` फ्लैग का उपयोग करें:

```sh
git commit --no-verify -m "Your commit message"
```

नोट: इसका उपयोग केवल तभी किया जाना चाहिए जब यह पूरी तरह से आवश्यक हो, क्योंकि यह महत्वपूर्ण कोड गुणवत्ता जांच को बायपास करता है।

## परीक्षण दिशानिर्देश

प्रोजेक्ट परीक्षण के लिए pytest का उपयोग करता है। नई सुविधाएं जोड़ते समय या बग ठीक करते समय, कृपया उन परीक्षण शामिल करें जो आपके
परिवर्तनों को कवर करते हों।

ध्यान दें कि `scripts/` निर्देशिका उन कार्यक्षमताओं के लिए परीक्षण स्क्रिप्ट्स रखती है जिन्हें आसानी से pytest के साथ परीक्षित नहीं किया जा सकता।
जटिल परिदृश्यों या इंटीग्रेशन परीक्षणों के लिए यहां स्क्रिप्ट्स जोड़ने के लिए स्वतंत्र महसूस करें जो मानक pytest फ्रेमवर्क का उपयोग करके लागू करना मुश्किल होगा।

### परीक्षण चलाना

```sh
# मानक परीक्षण चलाएं (वास्तविक API कॉल के साथ इंटीग्रेशन परीक्षणों को छोड़कर)
make test

# केवल प्रोवाइडर इंटीग्रेशन परीक्षण चलाएं (API कुंजियों की आवश्यकता है)
make test-integration

# प्रोवाइडर इंटीग्रेशन परीक्षणों सहित सभी परीक्षण चलाएं
make test-all

# कवरेज के साथ परीक्षण चलाएं
make test-cov

# विशिष्ट परीक्षण फाइल चलाएं
uv run -- pytest tests/test_prompt.py

# विशिष्ट परीक्षण चलाएं
uv run -- pytest tests/test_prompt.py::TestExtractRepositoryContext::test_extract_repository_context_with_docstring
```

#### प्रोवाइडर इंटीग्रेशन परीक्षण

प्रोवाइडर इंटीग्रेशन परीक्षण यह सत्यापित करने के लिए वास्तविक API कॉल करते हैं कि प्रोवाइडर कार्यान्वयन वास्तविक API के साथ सही ढंग से काम करता है। ये परीक्षण `@pytest.mark.integration` के साथ चिह्नित होते हैं और डिफ़ॉल्ट रूप से छोड़ दिए जाते हैं ताकि:

- नियमित विकास के दौरान API क्रेडिट की खपत से बचें
- API कुंजी कॉन्फ़िगर न होने पर परीक्षण विफलताओं को रोकें
- तीव्र पुनरावृत्ति के लिए परीक्षण निष्पादन को तेज़ रखें

प्रोवाइडर इंटीग्रेशन परीक्षण चलाने के लिए:

1. **API कुंजियां सेट करें** उन प्रोवाइडर्स के लिए जिन्हें आप परीक्षण करना चाहते हैं:

   ```sh
   export ANTHROPIC_API_KEY="your-key"
   export CEREBRAS_API_KEY="your-key"
   export GEMINI_API_KEY="your-key"
   export GROQ_API_KEY="your-key"
   export OPENAI_API_KEY="your-key"
   export OPENROUTER_API_KEY="your-key"
   export STREAMLAKE_API_KEY="your-key"
   export ZAI_API_KEY="your-key"
   # LM Studio और Ollama को एक स्थानीय इंस्टेंस चलाने की आवश्यकता है
   # LM Studio और Ollama के लिए API कुंजी वैकल्पिक हैं जब तक कि आपका डिप्लॉयमेंट प्रमाणीकरण लागू नहीं करता है
   ```

2. **प्रोवाइडर परीक्षण चलाएं**:

   ```sh
   make test-integration
   ```

परीक्षण उन प्रोवाइडर्स को छोड़ देंगे जहां API कुंजी कॉन्फ़िगर नहीं हैं। ये परीक्षण API परिवर्तनों का जल्दी पता लगाने और प्रोवाइडर APIs के साथ संगतता सुनिश्चित करने में मदद करते हैं।

## आचार संहिता

सम्मानजनक और रचनात्मक रहें। उत्पीड़न या दुर्व्यवहार सहन नहीं किया जाएगा।

## लाइसेंस

योगदान द्वारा, आप सहमत होते हैं कि आपका योगदान प्रोजेक्ट के समान लाइसेंस के तहत लाइसेंस प्राप्त किया जाएगा।

---

## सहायता कहां प्राप्त करें

- ट्रबलशूटिंग के लिए, [TROUBLESHOOTING.md](../TROUBLESHOOTING.md) देखें
- उपयोग और CLI विकल्पों के लिए, [../USAGE.md](../USAGE.md) देखें
- लाइसेंस विवरण के लिए, [../LICENSE](../LICENSE) देखें

gac को बेहतर बनाने में मदद करने के लिए धन्यवाद!
