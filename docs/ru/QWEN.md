[English](../en/QWEN.md) | [简体中文](../zh-CN/QWEN.md) | [繁體中文](../zh-TW/QWEN.md) | [日本語](../ja/QWEN.md) | [한국어](../ko/QWEN.md) | [हिन्दी](../hi/QWEN.md) | [Tiếng Việt](../vi/QWEN.md) | [Français](../fr/QWEN.md) | **Русский** | [Español](../es/QWEN.md) | [Português](../pt/QWEN.md) | [Norsk](../no/QWEN.md) | [Svenska](../sv/QWEN.md) | [Deutsch](../de/QWEN.md) | [Nederlands](../nl/QWEN.md) | [Italiano](../it/QWEN.md)

# Использование Qwen.ai с GAC

GAC поддерживает аутентификацию через Qwen.ai OAuth, позволяя использовать вашу учетную запись Qwen.ai для генерации сообщений коммитов. Это использует аутентификацию потока устройств OAuth для бесшовного входа в систему.

## Что такое Qwen.ai?

Qwen.ai — это платформа ИИ от Alibaba Cloud, предоставляющая доступ к семейству больших языковых моделей Qwen. GAC поддерживает аутентификацию на основе OAuth, позволяя использовать вашу учетную запись Qwen.ai без необходимости вручную управлять ключами API.

## Преимущества

- **Простая аутентификация**: Поток устройств OAuth — просто войдите через браузер
- **Нет управления ключами API**: Аутентификация обрабатывается автоматически
- **Доступ к моделям Qwen**: Используйте мощные модели Qwen для генерации сообщений коммитов

## Настройка

GAC включает встроенную аутентификацию OAuth для Qwen.ai с использованием потока устройств. Процесс настройки отобразит код и откроет ваш браузер для аутентификации.

### Вариант 1: Во время начальной настройки (Рекомендуется)

При запуске `gac init` просто выберите "Qwen.ai (OAuth)" в качестве провайдера:

```bash
gac init
```

Мастер:

1. Попросит вас выбрать "Qwen.ai (OAuth)" из списка провайдеров
2. Отобразит код устройства и откроет ваш браузер
3. Вы пройдете аутентификацию на Qwen.ai и введете код
4. Безопасно сохранит ваш токен доступа
5. Установит модель по умолчанию

### Вариант 2: Переключение на Qwen.ai позже

Если вы уже настроили GAC с другим провайдером и хотите переключиться на Qwen.ai:

```bash
gac model
```

Затем:

1. Выберите "Qwen.ai (OAuth)" из списка провайдеров
2. Следуйте потоку аутентификации кода устройства
3. Токен безопасно сохраняется в `~/.gac/oauth/qwen.json`
4. Модель настраивается автоматически

### Вариант 3: Прямой вход

Вы также можете аутентифицироваться напрямую, используя:

```bash
gac auth qwen login
```

Это:

1. Отобразит код устройства
2. Откроет ваш браузер на странице аутентификации Qwen.ai
3. После аутентификации токен сохраняется автоматически

### Использование GAC в обычном режиме

После аутентификации используйте GAC как обычно:

```bash
# Индексируйте ваши изменения
git add .

# Генерируйте и коммитьте с помощью Qwen.ai
gac

# Или переопределите модель для одного коммита
gac -m qwen:qwen3-coder-plus
```

## Доступные модели

Интеграция Qwen.ai OAuth использует:

- `qwen3-coder-plus` - Оптимизировано для задач кодирования (по умолчанию)

Это модель, доступная через конечную точку OAuth portal.qwen.ai. Для других моделей Qwen рассмотрите возможность использования провайдера OpenRouter, который предлагает дополнительные варианты моделей Qwen.

## Команды аутентификации

GAC предоставляет несколько команд для управления аутентификацией Qwen.ai:

```bash
# Войти в Qwen.ai
gac auth qwen login

# Проверить статус аутентификации
gac auth qwen status

# Выйти и удалить сохраненный токен
gac auth qwen logout

# Проверить статус всех провайдеров OAuth
gac auth
```

### Варианты входа

```bash
# Стандартный вход (открывает браузер автоматически)
gac auth qwen login

# Вход без открытия браузера (отображает URL для посещения вручную)
gac auth qwen login --no-browser

# Тихий режим (минимальный вывод)
gac auth qwen login --quiet
```

## Устранение неполадок

### Токен истек

Если вы видите ошибки аутентификации, возможно, срок действия вашего токена истек. Повторно аутентифицируйтесь, запустив:

```bash
gac auth qwen login
```

Начнется поток кода устройства, и ваш браузер откроется для повторной аутентификации.

### Проверить статус аутентификации

Чтобы проверить, аутентифицированы ли вы в данный момент:

```bash
gac auth qwen status
```

Или проверьте всех провайдеров сразу:

```bash
gac auth
```

### Выход

Чтобы удалить сохраненный токен:

```bash
gac auth qwen logout
```

### "Qwen authentication not found" (Аутентификация Qwen не найдена)

Это означает, что GAC не может найти ваш токен доступа. Аутентифицируйтесь, запустив:

```bash
gac auth qwen login
```

Или запустите `gac model` и выберите "Qwen.ai (OAuth)" из списка провайдеров.

### "Authentication failed" (Ошибка аутентификации)

Если аутентификация OAuth не удалась:

1. Убедитесь, что у вас есть учетная запись Qwen.ai
2. Проверьте, правильно ли открывается ваш браузер
3. Убедитесь, что вы правильно ввели код устройства
4. Попробуйте другой браузер, если проблемы сохраняются
5. Проверьте сетевое подключение к `qwen.ai`

### Код устройства не работает

Если аутентификация кода устройства не работает:

1. Убедитесь, что код не истек (коды действительны в течение ограниченного времени)
2. Попробуйте снова запустить `gac auth qwen login`, чтобы получить новый код
3. Используйте флаг `--no-browser` и вручную посетите URL, если открытие браузера не удалось

## Примечания по безопасности

- **Никогда не коммитьте ваш токен доступа** в систему контроля версий
- GAC автоматически сохраняет токены в `~/.gac/oauth/qwen.json` (за пределами каталога вашего проекта)
- Файлы токенов имеют ограниченные права доступа (читаемы только владельцем)
- Токены могут истекать и потребуют повторной аутентификации
- Поток устройств OAuth разработан для безопасной аутентификации на headless-системах

## См. также

- [Основная документация](USAGE.md)
- [Настройка Claude Code](CLAUDE_CODE.md)
- [Руководство по устранению неполадок](TROUBLESHOOTING.md)
- [Документация Qwen.ai](https://qwen.ai)
